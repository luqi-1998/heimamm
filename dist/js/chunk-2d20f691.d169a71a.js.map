{"version":3,"sources":["webpack:///./src/views/layout/User/Index.vue?5e86","webpack:///./src/views/layout/User/add-or-updata.vue?c278","webpack:///src/views/layout/User/add-or-updata.vue","webpack:///./src/views/layout/User/add-or-updata.vue?ca2e","webpack:///./src/views/layout/User/add-or-updata.vue","webpack:///src/views/layout/User/Index.vue","webpack:///./src/views/layout/User/Index.vue?78e3","webpack:///./src/views/layout/User/Index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","form","model","value","callback","$$v","$set","expression","_l","item","key","lable","label","on","sreach","_v","close","add","staticStyle","tableData","scopedSlots","_u","fn","scope","_s","row","role_id","style","status","$event","updata","changeRole","id","del","pageIndex","pageSize","total","handleSizeChange","handleCurrentChange","staticRenderFns","title","dialogFormVisible","formRules","slot","addedit","name","data","username","email","phone","remark","options","watch","newValue","$refs","formRef","resetFields","methods","validate","component","components","addUpdata","val","getData","addupdata","$nextTick","created"],"mappings":"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","file":"js/chunk-2d20f691.d169a71a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user\"},[_c('el-card',[_c('el-form',{ref:\"formRef\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"用户名称\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色\",\"prop\":\"role_id\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.role_id),callback:function ($$v) {_vm.$set(_vm.form, \"role_id\", $$v)},expression:\"form.role_id\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.lable,attrs:{\"label\":item.value,\"value\":item.label}})}),1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sreach}},[_vm._v(\"搜索\")]),_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"清除\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"+新增用户\")])],1)],1)],1),_c('el-card',{staticStyle:{\"marginTop\":\"20px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\",\"label\":\"序号\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"手机号\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"role_id\",\"label\":\"角色\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.role_id === 1 ? '超级管理员' : scope.row.role_id === 2 ? '管理员' : scope.row.role_id === 3 ? '老师' : '学生'))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{style:(scope.row.status == '1' ? 'color:#000' : 'color:red')},[_vm._v(_vm._s(scope.row.status == '1' ? '启用' : '禁用'))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.updata(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":scope.row.status == '1' ? 'info' : 'success'},on:{\"click\":function($event){return _vm.changeRole(scope.row.id)}}},[_vm._v(_vm._s(scope.row.status == '1' ? '禁用' : '启用'))]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.del(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.pageIndex,\"page-sizes\":[2, 5, 8, 10],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('add-updata',{ref:\"addupdata\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogFormVisible,\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"formRef\",attrs:{\"model\":_vm.form,\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"label-width\":\"70px\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"label-width\":\"70px\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\",\"label-width\":\"70px\",\"prop\":\"phone\"}},[_c('el-input',{model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色\",\"label-width\":\"70px\",\"prop\":\"role_id\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.role_id),callback:function ($$v) {_vm.$set(_vm.form, \"role_id\", $$v)},expression:\"form.role_id\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.lable,attrs:{\"label\":item.value,\"value\":item.label}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"状态\",\"label-width\":\"70px\",\"prop\":\"status\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择状态\"},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}},[_c('el-option',{attrs:{\"value\":0,\"label\":\"禁用\"}}),_c('el-option',{attrs:{\"value\":1,\"label\":\"启用\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"用户备注\",\"label-width\":\"70px\",\"prop\":\"remark\"}},[_c('el-input',{model:{value:(_vm.form.remark),callback:function ($$v) {_vm.$set(_vm.form, \"remark\", $$v)},expression:\"form.remark\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addedit}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog :title=\"title\" :visible.sync=\"dialogFormVisible\" center>\r\n    <el-form :model=\"form\" :rules=\"formRules\" ref=\"formRef\">\r\n      <el-form-item label=\"用户名\" label-width=\"70px\" prop=\"username\">\r\n        <el-input v-model=\"form.username\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"邮箱\" label-width=\"70px\" prop=\"email\">\r\n        <el-input v-model=\"form.email\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"电话\" label-width=\"70px\" prop=\"phone\">\r\n        <el-input v-model=\"form.phone\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"角色\" label-width=\"70px\" prop=\"role_id\">\r\n        <el-select v-model=\"form.role_id\" placeholder=\"请选择\">\r\n          <el-option\r\n            v-for=\"item in options\"\r\n            :key=\"item.lable\"\r\n            :label=\"item.value\"\r\n            :value=\"item.label\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"状态\" label-width=\"70px\" prop=\"status\">\r\n        <el-select v-model=\"form.status\" placeholder=\"请选择状态\">\r\n          <el-option :value=\"0\" label=\"禁用\"></el-option>\r\n          <el-option :value=\"1\" label=\"启用\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户备注\" label-width=\"70px\" prop=\"remark\">\r\n        <el-input v-model=\"form.remark\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"addedit\">确 定</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'userupdata',\r\n  data () {\r\n    return {\r\n      title: '新增用户',\r\n      dialogFormVisible: false,\r\n      form: {\r\n        username: '',\r\n        email: '',\r\n        phone: '',\r\n        role_id: '',\r\n        remark: '',\r\n        status: ''\r\n      },\r\n      formRules: {\r\n        username: [\r\n          { required: true, message: '用户名不能为空', trigger: 'blur' }\r\n        ],\r\n        email: [\r\n          { required: true, trigger: 'blur' },\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              if (!value) callback(new Error('邮箱不能为空'))\r\n              /* eslint-disable */\r\n              const reg = /^[A-Za-z0-9]+([_\\.][A-Za-z0-9]+)*@([A-Za-z0-9\\-]+\\.)+[A-Za-z]{2,6}$/\r\n              if (!reg.test(value)) {\r\n                callback(new Error('邮箱不合法'))\r\n              }\r\n              /* eslint-enable */\r\n              callback()\r\n            },\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        phone: [\r\n          { required: true, message: '手机号不能为空', trigger: 'blur' },\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              if (!value) callback(new Error('手机号不能为空'))\r\n              const reg = /^1(3|4|5|6|7|8|9)\\d{9}$/\r\n              if (!reg.test(value)) {\r\n                callback(new Error('手机号不合法'))\r\n              }\r\n              callback()\r\n            },\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        role_id: [{ required: true, message: '角色不能为空', trigger: 'blur' }]\r\n      },\r\n      options: [\r\n        { label: 1, value: '超级管理员' },\r\n        { label: 2, value: '管理员' },\r\n        { label: 3, value: '老师' },\r\n        { label: 4, value: '学生' }\r\n      ]\r\n    }\r\n  },\r\n  watch: {\r\n    dialogFormVisible (newValue) {\r\n      if (!newValue) {\r\n        this.$refs.formRef.resetFields()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    addedit () {\r\n      if (this.title === '新增用户') {\r\n        this.$refs.formRef.validate(async vaild => {\r\n          if (!vaild) return this.$message.error('验证不通过')\r\n          delete this.form.id\r\n          const res = await this.$axios.post('/user/add', this.form)\r\n          if (res.code === 200) {\r\n            this.$message.success('新增成功')\r\n            this.$parent.pageIndex = 1\r\n            this.$parent.getData()\r\n            this.dialogFormVisible = false\r\n          }\r\n        })\r\n      } else {\r\n        this.$refs.formRef.validate(async vaild => {\r\n          if (!vaild) return this.$message.error('验证不通过')\r\n          const res = await this.$axios.post('/user/edit', this.form)\r\n          if (res.code === 200) {\r\n            this.$message.success('修改成功')\r\n            this.$parent.pageIndex = 1\r\n            this.$parent.getData()\r\n            this.dialogFormVisible = false\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-or-updata.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-or-updata.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add-or-updata.vue?vue&type=template&id=07ad4e83&\"\nimport script from \"./add-or-updata.vue?vue&type=script&lang=js&\"\nexport * from \"./add-or-updata.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"user\">\r\n    <el-card>\r\n      <el-form\r\n        :inline=\"true\"\r\n        :model=\"form\"\r\n        ref=\"formRef\"\r\n        class=\"demo-form-inline\"\r\n      >\r\n        <el-form-item label=\"用户名称\" prop=\"username\">\r\n          <el-input v-model=\"form.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户邮箱\" prop=\"email\">\r\n          <el-input v-model=\"form.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色\" prop=\"role_id\">\r\n          <el-select v-model=\"form.role_id\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.lable\"\r\n              :label=\"item.value\"\r\n              :value=\"item.label\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"sreach\">搜索</el-button>\r\n          <el-button @click=\"close\">清除</el-button>\r\n          <el-button type=\"primary\" @click=\"add\">+新增用户</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n    <el-card style=\"marginTop:20px\">\r\n      <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n        <el-table-column type=\"index\" width=\"50\" label=\"序号\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"username\" label=\"用户名\" width=\"120\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"phone\" label=\"手机号\" width=\"150\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"email\" label=\"邮箱\" width=\"150\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"role_id\" label=\"角色\" width=\"100\">\r\n          <template v-slot:default=\"scope\">\r\n            <span>{{\r\n              scope.row.role_id === 1\r\n                ? '超级管理员'\r\n                : scope.row.role_id === 2\r\n                ? '管理员'\r\n                : scope.row.role_id === 3\r\n                ? '老师'\r\n                : '学生'\r\n            }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"remark\" label=\"备注\" width=\"150\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\r\n          <template v-slot:default=\"scope\">\r\n            <span\r\n              :style=\"scope.row.status == '1' ? 'color:#000' : 'color:red'\"\r\n              >{{ scope.row.status == '1' ? '启用' : '禁用' }}</span\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template v-slot:default=\"scope\">\r\n            <el-button size=\"small\" @click=\"updata(scope.row)\">编辑</el-button>\r\n            <el-button\r\n              size=\"small\"\r\n              :type=\"scope.row.status == '1' ? 'info' : 'success'\"\r\n              @click=\"changeRole(scope.row.id)\"\r\n              >{{ scope.row.status == '1' ? '禁用' : '启用' }}</el-button\r\n            >\r\n            <el-button size=\"small\" @click=\"del(scope.row.id)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"pageIndex\"\r\n        :page-sizes=\"[2, 5, 8, 10]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n    <add-updata ref=\"addupdata\"></add-updata>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 导入用户新增和修改组件\r\nimport addUpdata from './add-or-updata'\r\nexport default {\r\n  name: 'user',\r\n  components: {\r\n    addUpdata\r\n  },\r\n  data () {\r\n    return {\r\n      options: [\r\n        { label: 1, value: '超级管理员' },\r\n        { label: 2, value: '管理员' },\r\n        { label: 3, value: '老师' },\r\n        { label: 4, value: '学生' }\r\n      ],\r\n      form: {\r\n        username: '',\r\n        email: '',\r\n        role_id: ''\r\n      },\r\n      tableData: [],\r\n      total: 10,\r\n      pageSize: 2,\r\n      pageIndex: 1\r\n    }\r\n  },\r\n  methods: {\r\n    // 分页\r\n    // 当前页\r\n    handleCurrentChange (val) {\r\n      this.pageIndex = val\r\n      this.getData()\r\n    },\r\n    // 每页显示\r\n    handleSizeChange (val) {\r\n      this.pageSize = val\r\n      this.getData()\r\n    },\r\n    // 切换状态\r\n    async changeRole (id) {\r\n      const res = await this.$axios.post('/user/status', { id })\r\n      if (res.code === 200) {\r\n        this.$message.success('状态更新成功')\r\n        this.getData()\r\n      }\r\n    },\r\n    // 删除\r\n    async del (id) {\r\n      const res = await this.$axios.post('/user/remove', { id })\r\n      if (res.code === 200) {\r\n        this.$message.success('删除成功')\r\n        this.pageIndex = 1\r\n        this.getData()\r\n      }\r\n    },\r\n    // 搜索\r\n    sreach () {\r\n      this.pageIndex = 1\r\n      this.getData()\r\n    },\r\n    // 清除搜索框\r\n    close () {\r\n      this.$refs.formRef.resetFields()\r\n      this.pageIndex = 1\r\n      this.getData()\r\n    },\r\n    // 新增用户\r\n    add () {\r\n      this.$refs.addupdata.dialogFormVisible = true\r\n    },\r\n    // 编辑用户\r\n    updata (row) {\r\n      // console.log(JSON.parse(JSON.stringify(row)))\r\n      this.$refs.addupdata.dialogFormVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.addupdata.title = '修改用户'\r\n        this.$refs.addupdata.form = JSON.parse(JSON.stringify(row))\r\n      })\r\n      // this.$refs.addUpdata.form = JSON.parse(JSON.stringify(row))\r\n    },\r\n    async getData () {\r\n      const res = await this.$axios.get('/user/list', {\r\n        params: {\r\n          ...this.form,\r\n          page: this.pageIndex,\r\n          limit: this.pageSize\r\n        }\r\n      })\r\n      this.tableData = res.data.items\r\n      this.total = res.data.pagination.total\r\n    }\r\n  },\r\n  created () {\r\n    this.getData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=4a241238&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}